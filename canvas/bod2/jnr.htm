<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1, maximum-scale=1">
<link rel="shortcut icon" sizes="192x192" href="santa.png">
<link rel="apple-touch-icon" href="santa.png">
<style>
html, body { font-family:Sans-serif;border:0;margin:0;height:100%;height:100%; }
</style>
<script src='bod2.js'></script>
<script src='../../sound.js'></script>
<script src='../../conet.js'></script>
<script src='../../menu.js'></script>
<script>
//--- jr.htm, copy of santa.htm, to parametrize content and 
//--- extend mechanics (fight,jump,crouch)
function dataSanta() {
  
  return {
  parts:[[106.0,122.0],[85.0,51.0],[58.0,120.0],[122.0,77.0],[51.0,76.0],[42.0,174.0],[55.0,145.0],[58.0,171.0],[93.0,174.0],[87.0,10.0],[108.0,170.0],[106.0,143.0],[133.0,91.0],[134.0,112.0],[128.0,124.0],[30.0,83.0],[13.0,85.0],[8.0,77.0],[86.0,24.0]],
  pairs:[[1,0],[1,2],[2,0],[3,4],[4,2],[4,1],[4,0],[3,0],[1,3],[3,2],[1,18],[18,9],[3,12],[12,13],[13,14],[4,15],[15,16],[16,17],[0,11],[11,10],[10,8],[2,6],[6,7],[7,5]],
  constraints:[['ac',2,6,7,-2.0,0.1,false],['ac',0,11,10,-2.0,0.1,false],['ac',6,7,5,0.5,2.5,false],['ac',11,10,8,0.5,2.5,false],['ac',0,2,6,-3.0,1.0,false],['ac',2,0,11,-1.0,3.0,false],['ac',4,15,16,-0.1,2.0,false],['ac',15,16,17,-0.1,2.0,false],['ac',3,12,13,-0.1,2.0,false],['ac',12,13,14,-0.1,2.0,false],['ac',1,18,9,-1.0,1.0,false],['ac',4,1,18,-3.0,1.0,false]],
  fcs:[
    ['idle',
      [150,106.0,122.0,85.0,51.0,58.0,120.0,122.0,77.0,51.0,76.0,42.0,174.0,55.0,145.0,58.0,171.0,93.0,174.0,87.0,10.0,108.0,170.0,106.0,143.0,133.0,91.0,134.0,112.0,128.0,124.0,30.0,83.0,13.0,85.0,8.0,77.0,86.0,24.0],
      [150,106.0,122.0,83.0,50.0,58.0,124.0,117.0,77.0,48.0,80.0,40.0,157.0,36.0,137.0,58.0,156.0,89.0,155.0,84.0,10.0,108.0,154.0,90.0,133.0,133.0,86.0,143.0,101.0,136.0,114.0,32.0,74.0,25.0,64.0,26.0,53.0,83.0,24.0]
    ],
    ['run',
      [150,106.0,122.0,85.0,51.0,58.0,120.0,118.0,80.0,51.0,76.0,4.0,148.0,38.0,139.0,18.0,155.0,153.0,153.0,87.0,10.0,145.0,140.0,122.0,137.0,99.0,91.0,83.0,98.0,71.0,89.0,61.0,95.0,66.0,109.0,65.0,118.0,86.0,24.0],
      [150,109.0,111.0,74.0,51.0,58.0,120.0,112.0,67.0,44.0,80.0,42.0,174.0,55.0,145.0,58.0,171.0,87.0,136.0,75.0,11.0,109.0,128.0,85.0,123.0,120.0,85.0,123.0,103.0,121.0,122.0,42.0,100.0,31.0,116.0,19.0,110.0,74.0,24.0],
      [150,106.0,122.0,85.0,51.0,58.0,120.0,118.0,80.0,51.0,76.0,115.0,144.0,78.0,133.0,103.0,136.0,55.0,131.0,87.0,10.0,68.0,140.0,85.0,133.0,132.0,92.0,141.0,104.0,141.0,119.0,30.0,83.0,13.0,85.0,8.0,77.0,86.0,24.0],
      [150,106.0,122.0,101.0,52.0,64.0,109.0,126.0,83.0,65.0,68.0,51.0,130.0,47.0,119.0,67.0,120.0,93.0,174.0,101.0,14.0,108.0,170.0,106.0,143.0,126.0,101.0,124.0,115.0,116.0,125.0,58.0,86.0,49.0,99.0,37.0,99.0,101.0,28.0]
    ]
  ],
  weights:[
   [0,1,[]],
   [1,2,[]],
   [1,0,[]],
   [2,0,[25.977465,0.5225304,1.0]],
   [3,4,[]],
   [4,2,[]],
   [4,1,[-28.411047,0.52442443,1.0]],
   [4,0,[]],
   [3,0,[]],
   [1,3,[]],
   [3,2,[]],
   [2,4,[-30.39054,0.42670026,1.0,31.37812,0.5697734,1.0]],
   [0,3,[33.7941,0.384919,1.0,-30.171806,0.46427006,1.0]],
   [1,18,[-25.612066,-0.40547955,1.0,26.426325,-0.40821913,1.0,-24.057577,1.041096,1.0,25.982183,1.0356166,1.0]],
   [18,9,[0.0,2.9999998,1.0]],
   [3,12,[-7.301526,-0.24921088,1.0,8.481004,-0.30283868,1.0,6.908367,0.76656216,2.0,-6.515208,0.71608883,2.0,-5.8412232,1.4006312,1.0,7.301526,1.2492119,1.0]],
   [12,13,[-4.3284283,-0.32352945,1.0,8.894683,-0.115384586,1.0,7.3250318,0.3167421,2.0,-8.704422,0.30542985,2.0,-9.988681,1.0226244,1.0,7.8958144,0.8868779,1.0]],
   [13,14,[-8.944272,-0.16666666,1.0,8.497058,0.23333357,1.0,11.627553,1.7666668,1.0,-12.969194,2.1,1.0,17.888544,2.1666667,1.0]],
   [4,15,[8.854378,-0.22857147,1.0,-7.2732387,-0.27142864,1.0,7.2732387,0.8428571,2.0,7.589466,1.1714286,1.0,-6.3245554,1.1428573,1.0,-5.6920996,0.8000002,2.0]],
   [15,16,[7.711522,-0.17064846,1.0,-5.433118,-0.19795221,1.0,-6.718372,0.1638226,2.0,7.4194193,0.18430033,2.0,10.34045,0.6348122,1.0,-8.354149,1.3515359,1.0]],
   [16,17,[-9.009982,-0.5280898,1.0,10.599979,0.7977528,1.0,14.203972,2.8089888,1.0,-12.083976,2.550562,1.0]],
   [0,11,[]],
   [11,10,[]],
   [10,8,[]],
   [2,6,[7.029568,-0.32649842,1.0,7.6650085,0.79653,2.0,8.340165,1.2397476,1.0,-11.080507,-0.33280757,1.0,-8.340165,0.7602523,2.0,-8.657887,1.1987382,1.0]],
   [6,7,[]],
   [7,5,[-8.108696,-0.6566037,1.0,7.3715415,0.4150944,1.0,14.681658,1.1433961,1.0,-9.460141,2.2339625,1.0,-11.978755,0.07547161,1.0]],
   [0,2,[]],
   [7,6,[9.857675,1.2642337,1.0,9.857675,1.2642337,1.0,10.354379,0.76204383,2.0,10.736459,0.22189781,1.0,12.341195,-0.24671535,1.0,-9.857671,0.7357664,2.0,-8.367558,1.2291971,1.0,-7.030277,0.33868614,1.0]],
   [3,1,[29.300106,0.34718826,1.0]],
   [11,0,[9.0,1.2380953,1.0,-9.0,1.2857143,1.0,-8.0,0.2857143,2.0,9.0,0.33333334,2.0,10.0,-0.23809524,1.0,-7.0,-0.2857143,1.0]],
   [10,11,[10.637522,0.30422923,1.0,10.674458,-0.17735332,1.0,-9.381704,0.3219645,1.0,-8.495243,0.7639836,2.0,-7.682654,1.1691678,1.0,9.344768,1.1596181,1.0,9.455575,0.71487045,2.0]],
   [8,10,[7.665464,1.6016598,1.0,11.852482,0.86307025,1.0,6.4415665,-1.4439834,1.0,-15.846253,-0.32780123,1.0,-9.597934,0.43153462,1.0]],
  ],
  verts:[[61,45],[48,56],[60,46],[49,57],[44],[47],[58],[5,3],[4],[0],[2],[1],[63],[52],[53],[54],[50,59],[51,62],[81,72],[80],[79],[78],[70],[76,68],[73,69],[74,66],[75,67],[65],[64],[77,71],[10],[8],[9],[6],[7],[42],[43],[39,40],[41,38],[31,37],[30,34],[36,32],[35,33],[28],[29],[26],[22,24],[21,23],[19,16],[20,15],[13,18],[14,17],[12],[11],[27]],
  polys:[
   [200,200,100,[36,38,35]],
   [200,200,100,[36,37,38]],
   [200,200,100,[38,37,41]],
   [200,200,100,[38,41,39]],
   [200,200,100,[39,41,42]],
   [200,200,100,[39,42,40]],
   [200,200,100,[40,42,44]],
   [200,200,100,[40,44,43]],
   [200,200,100,[13,14,17]],
   [200,200,100,[17,14,15]],
   [200,200,100,[17,16,15]],
   [200,200,100,[17,6,16]],
   [200,200,100,[0,2,3]],
   [200,200,100,[17,2,3]],
   [200,200,100,[17,3,6]],
   [200,200,100,[4,0,5]],
   [200,200,100,[1,0,3]],
   [200,200,100,[5,0,1]],
   [255,106,0,[11,7,12]],
   [255,106,0,[12,7,8]],
   [255,106,0,[7,9,8]],
   [255,106,0,[7,10,9]],
   [255,106,0,[11,10,7]],
   [200,200,100,[28,27,25]],
   [200,200,100,[28,25,26]],
   [200,200,100,[25,24,23]],
   [200,200,100,[26,25,23]],
   [200,200,100,[23,24,18]],
   [200,200,100,[23,18,22]],
   [200,200,100,[18,29,22]],
   [200,200,100,[18,21,29]],
   [200,200,100,[18,20,21]],
   [200,200,100,[19,20,18]],
   [200,200,100,[31,33,34]],
   [200,200,100,[31,34,32]],
   [200,200,100,[30,31,32]],
   [200,200,100,[53,52,50]],
   [200,200,100,[53,50,51]],
   [200,200,100,[51,50,48]],
   [200,200,100,[51,48,49]],
   [200,200,100,[48,47,49]],
   [200,200,100,[48,46,47]],
   [200,200,100,[46,45,47]],
   [200,200,100,[46,54,45]],
  ],
  };
  
  
  
  //...
}
function dataV0() {
  
  return {
  parts:[[100.0,100.0],[100.0,80.0],[103.0,54.0],[103.0,22.0],[84.082016,136.21423],[97.0,179.0],[110.0,100.0],[105.0,138.0],[128.0,179.0],[96.0,54.0],[78.992615,77.39266],[54.0,92.0],[113.0,55.0],[128.0,79.0],[112.0,103.0],[128.0,195.0],[97.0,195.0],[107.0,111.0],[45.0,95.0]],
  pairs:[[0,1],[1,2],[2,3],[0,4],[4,5],[6,7],[7,8],[6,1],[6,0],[1,9],[9,10],[10,11],[2,9],[1,12],[12,13],[13,14],[2,12],[8,15],[5,16],[14,17],[11,18]],
  constraints:[['ac',0,1,2,-0.5,0.5,false],['ac',1,2,3,-1.0,1.0,false],['ac',1,0,4,-1.0,2.5,false],['ac',0,4,5,-2.5,0.3,false],['ac',1,6,7,-1.0,2.5,false],['ac',6,7,8,-2.5,0.3,false],['ac',0,1,6,-0.5636476,-0.3636476,true],['ac',9,10,11,-0.3,2.5,false],['ac',2,1,9,-0.42175052,-0.22175053,true],['ac',12,13,14,-0.3,2.5,false],['ac',12,1,2,-0.42175052,-0.22175053,true],['ac',4,5,16,-0.5,1.0,false],['ac',7,8,15,-0.5,1.0,false]],
  fcs:[
    ['idle',
      [250,100.0,100.0,100.0,80.0,103.0,54.0,103.0,22.0,84.082016,136.21423,97.0,179.0,110.0,100.0,105.0,138.0,128.0,179.0,96.0,54.0,78.992615,77.39266,54.0,92.0,113.0,55.0,128.0,79.0,112.0,103.0,128.0,195.0,97.0,195.0,107.0,111.0,45.0,95.0],
      [250,100.0,120.0,100.0,100.0,104.0,74.0,104.001526,42.200977,70.380394,146.17459,99.0,180.0,110.0,120.0,90.79461,153.40787,129.0,180.0,98.0,74.0,86.89387,101.1037,60.0,90.0,113.93446,75.70672,115.80413,104.143265,87.587776,110.090546,129.0,196.20096,99.0,196.20004,78.57065,112.623436,51.647247,85.81473]
    ],
    ['run',
      [150,100.0,100.0,101.0,81.0,106.0,54.0,105.93392,22.21905,106.0,142.0,135.0,176.0,110.0,100.0,78.42326,122.04273,122.0,138.0,99.47333,53.620525,93.7984,83.771614,88.0,115.0,115.6473,57.509033,115.44743,85.97708,98.3476,108.90191,137.04239,143.65222,138.65126,191.77779,94.9591,117.906334,85.67692,124.34348],
      [150,100.0,100.0,100.0,80.0,103.59314,55.52744,102.83594,23.794922,120.0,134.0,145.0,172.0,110.0,100.0,83.0,130.0,57.97535,170.14429,96.0,56.0,76.51134,77.08787,54.0,95.0,114.21752,56.1798,133.97166,76.33564,141.9396,103.76282,49.906506,184.1603,154.52345,185.057,145.71059,112.610344,44.964104,97.911575],
      [150,100.0,100.0,100.0,80.0,103.00129,54.20698,102.99857,22.408623,83.621765,136.02953,125.0,152.0,110.0,100.0,119.96283,137.38605,133.36432,182.46024,96.01327,54.23074,101.58418,82.84078,96.0,111.0,113.26055,56.024384,114.6243,84.45858,100.89151,109.681076,137.43172,198.12997,140.0921,157.513,98.01597,118.58619,93.67583,120.34182],
      [150,100.0,100.0,100.0,80.0,105.0,57.0,104.003204,25.203808,81.0,137.0,59.0,174.0,110.0,100.0,119.78405,140.99919,154.0,173.0,97.0,57.0,117.10311,79.48483,137.0,102.0,115.58103,58.439373,108.72761,86.13243,85.64014,103.10034,160.01114,188.02788,56.494446,190.00261,79.35084,110.33229,142.09103,110.14198]
    ],
    ['up',
      [100,87.0,116.0,100.0,100.0,89.0,82.0,59.0,89.0,73.0,86.0,67.0,122.0,97.0,118.0,82.0,84.0,72.0,122.0,83.0,88.0,102.0,114.0,67.0,100.0,103.73135,76.60752,117.601715,98.88825,90.0,117.0,70.154076,107.3117,61.833225,108.030754,98.86433,112.90771,51.0,92.0],
      [250,100.0,120.0,100.0,100.0,99.0,73.0,99.005554,41.15129,70.25773,146.03403,100.0,179.0,110.0,120.0,91.14613,153.33496,130.0,179.0,94.0,73.0,80.647026,99.382355,53.89505,87.922386,109.211784,73.610664,109.5203,102.10929,80.877556,105.12113,130.0,195.1961,100.0,195.19803,71.67606,107.39653,45.93833,83.047195]
    ]
  ],
  weights:[
   [2,3,[-11.5,0.675001,1.0,0.0,2.6999998,1.0,11.5,1.8,1.0,9.2,0.42750004,1.0,6.8999996,0.24750003,1.0,-2.3,0.24750003,1.0,-2.3,0.33500004,1.0,-5.75,0.35750005,1.0,-9.2,0.495,1.0,-10.349999,0.8100009,1.0,-10.349999,0.9900007,1.0,-8.05,1.1700006,1.0,-1.15,1.2825005,1.0,5.75,1.2825005,1.0,12.65,1.1925006,1.0,14.95,0.94500077,1.0,9.65,0.5800012,1.0,-6.8999996,0.96750075,1.0,-4.6,1.0350007,1.0,-4.6,0.94500077,1.0,0.0,0.94500077,1.0,1.15,1.1025007,1.0,1.15,0.9000008,1.0,3.4499998,0.9900007,1.0,7.8999996,0.9000008,1.0,10.349999,0.74500096,1.0,-9.2,0.76000094,1.0,-8.05,0.87500083,1.0,-9.2,0.64500105,1.0,-5.75,0.6000011,1.0,-3.6,0.73750097,1.0,-4.6,0.85250086,1.0,-1.3,0.73750097,1.0,1.0,0.85250086,1.0,5.6,0.85250086,1.0,6.75,0.715001,1.0,4.45,0.6000011,1.0,-0.14999998,0.6000011,1.0,-4.6,0.49249998,1.0,-1.15,0.47,1.0,2.3,0.44750002,1.0,-1.15,0.42500004,1.0,-4.6,0.44750002,1.0,-6.8999996,0.47,1.0,-1.1500001,0.715001,1.0,4.45,0.715001,1.0,3.3000002,0.8075009,1.0,0.0,0.8075009,1.0,0.0,0.6225011,1.0,3.3000002,0.6225011,1.0,-4.6,0.717501,1.0,-5.75,0.8300009,1.0,-8.05,0.8075009,1.0,-8.05,0.73750097,1.0,-8.05,0.66750103,1.0,-5.75,0.64500105,1.0,-10.349999,0.9000008,1.0,14.65,0.93000084,1.0,13.65,0.48000124,1.0,14.65,0.15500116,1.0,2.6499996,0.08000116,1.0,-10.35,0.18000117,1.0,-9.35,0.38000122,1.0,-10.35,0.6800011,1.0,-6.05,1.0950006,1.0,-3.0500002,1.1700006,1.0,1.9499998,1.1950005,1.0,-2.0500002,1.1200006,1.0,-1.0500002,1.0700006,1.0,1.9499998,1.1450006,1.0,5.95,1.1700006,1.0,3.9499998,1.0700006,1.0,9.95,1.0700006,1.0,4.95,1.1200006,1.0,0.0,0.87750083,1.0,6.6,0.87750083,1.0,-3.6,0.87750083,1.0,-8.05,0.9000008,1.0,6.75,0.715001,1.0,5.45,0.5750011,1.0,-0.1500001,0.5750011,1.0,-1.3,0.73750097,1.0,-5.75,0.5750011,1.0,-9.2,0.6200011,1.0,1.7,0.33500004,1.0,7.7,0.43500006,1.0,2.7,0.31000003,1.0,0.70000005,0.26000002,1.0,-0.29999995,0.17250001,1.0]],
   [7,8,[7.0,0.10000001,2.0,-7.0,0.0,1.0,-10.0,0.5,1.0,-11.0,1.0000001,1.0,9.0,1.0000001,1.0,7.0,-0.19999999,1.0,-4.0,0.0,1.0,4.0,0.0,1.0,2.0,0.10000002,1.0,-2.0,0.10000002,1.0,-5.0,0.3,1.0,2.0,0.3,1.0,2.0,0.75,1.0,-2.0,0.75,1.0,-9.0,0.85,1.0,-1.0,0.85,1.0,6.0,0.95000005,1.0,-9.0,0.95000005,1.0,0.0,0.3,1.0,-2.0,0.3,1.0,0.0,0.2,1.0,0.0,0.5500001,1.0,0.0,2.2351742E-8,1.0,1.0,2.2351742E-8,1.0,-1.0,0.050000023,1.0,1.0,0.9250001,1.0,-7.0,0.9000001,1.0,-3.0,0.8750001,1.0]],
   [6,7,[-7.0,0.0,1.0,7.0,0.0,1.0,-7.0,1.0000001,1.0,7.0,0.9000001,2.0,7.0,1.2000002,1.0,3.0,0.050000004,1.0,-3.0,0.050000004,1.0,-4.0,0.15,1.0,4.0,0.15,1.0,2.0,0.9000001,1.0,-2.0,0.9000001,1.0,-4.0,1.0000001,1.0,4.0,1.0000001,1.0,0.0,0.10000003,1.0,-1.0,0.15000002,1.0,1.0,0.15000002,1.0,0.0,0.7000001,1.0,0.0,0.9500001,1.0]],
   [6,1,[9.0,0.025,1.0,10.0,0.37500006,1.0,2.0,0.45000008,1.0,2.0,0.37500006,1.0,6.0,0.35000005,1.0,5.0,0.20000002,1.0,1.0,0.17500001,1.0,2.0,0.32500005,1.0,2.0,0.25000003,1.0,4.0,0.30000004,1.0,9.0,0.55,1.0,10.0,0.72499985,1.0,2.0,0.50000006,1.0,6.0,0.47500005,1.0,5.0,0.62499994,1.0,19.0,0.59999996,1.0,15.0,0.59999996,1.0,8.0,0.55,1.0,9.0,0.37500006,1.0,8.0,0.72499985,1.0]],
   [0,4,[7.0,0.0,1.0,-7.0,-0.05,1.0,-7.0,0.9999996,1.0,7.0,0.89999974,1.0,7.0,1.1999995,1.0,4.0,0.22500002,1.0,2.0,0.050000004,1.0,1.0,0.25000003,1.0,0.0,0.10000003,1.0,-2.0,0.050000004,1.0,-1.0,0.25000003,1.0,-3.0,0.27500004,1.0,0.0,0.7000001,1.0,2.0,0.9000001,1.0,-2.0,0.9000001,1.0,4.0,1.0000001,1.0,-4.0,1.0000001,1.0,0.0,0.9500001,1.0]],
   [4,5,[-7.0,0.0,1.0,7.0,0.1,1.0,7.0,-0.2,1.0,9.0,0.99999964,1.0,-11.0,0.99999964,1.0,-10.0,0.5000001,1.0,6.0,0.95000005,1.0,1.0,0.9250001,1.0,-3.0,0.8750001,1.0,-7.0,0.9000001,1.0,-1.0,0.85,1.0,-9.0,0.85,1.0,-9.0,0.95000005,1.0,2.0,0.75,1.0,-2.0,0.75,1.0,0.0,0.5500001,1.0,2.0,0.3,1.0,0.0,0.3,1.0,-2.0,0.3,1.0,0.0,0.2,1.0,-5.0,0.3,1.0,2.0,0.10000002,1.0,-2.0,0.10000002,1.0,4.0,1.0000001,1.0,-4.0,0.0,1.0,4.0,0.0,1.0,1.0,2.2351742E-8,1.0,-1.0,0.050000023,1.0]],
   [0,1,[-7.0,0.50000006,1.0,-2.0,0.45000005,1.0,2.0,0.40000004,1.0,4.0,0.25,1.0,5.0,0.32500002,1.0,-6.0,0.6749999,1.0,-6.0,0.92499965,1.0,2.0,0.52500004,1.0,5.0,0.69999987,1.0,-4.0,0.6749999,1.0,-5.0,0.92499965,1.0,-6.0,0.47500005,1.0]],
   [1,9,[-5.0,-0.025,1.0,-5.0,0.1,1.0,2.0,0.075,1.0,-7.0,0.1,1.0,-5.0,0.47500008,1.0,-8.0,0.59999996,1.0,-8.0,0.7749998,1.0,-5.0,1.0249996,1.0,4.0,1.1499995,1.0,3.0,1.0249996,1.0,5.0,0.9249997,1.0,-2.0,1.1749995,1.0,-4.0,0.59999996,1.0,-5.0,0.7499998,1.0,-3.0,0.8749997,1.0,1.0,0.8499997,1.0,0.0,0.575,1.0,-2.0,0.40000007,1.0,-3.0,0.17500001,1.0,-3.0,0.72499985,1.0,-1.0,0.7749998,1.0,-1.0,0.69999987,1.0,2.0,0.69999987,1.0,5.0,1.1249995,1.0,-4.0,-0.025,1.0,-4.0,0.1,1.0]],
   [1,12,[11.0,0.125,1.0,11.0,0.22500002,1.0,0.0,0.075,1.0,12.0,0.22500002,1.0,7.0,0.6499999,1.0,-4.0,1.0749996,1.0,3.0,1.0999995,1.0,-6.0,0.9249997,1.0,-8.0,0.87499976,1.0,5.0,0.9499997,1.0,-4.0,0.7999998,1.0,-1.0,0.8499997,1.0,4.0,0.7499998,1.0,2.0,0.55,1.0,-2.0,0.50000006,1.0,-6.0,0.52500004,1.0,-7.0,0.69999987,1.0,5.0,0.45000005,1.0,-1.0,0.40000004,1.0,1.0,0.14999998,1.0,7.0,0.225,1.0,-2.0,0.7499998,1.0,1.0,0.69999987,1.0,-1.0,0.59999996,1.0,-5.0,0.6499999,1.0,2.0,0.37500003,1.0,4.0,0.35000002,1.0,5.0,0.225,1.0,2.0,0.225,1.0,9.0,0.125,1.0,9.0,0.20000002,1.0]],
   [9,10,[5.0,0.0,1.0,-5.0,0.074999996,1.0,5.0,0.9999996,1.0,-5.0,1.1499995,1.0,-5.0,0.8499998,1.0,0.0,0.075,1.0,3.0,0.17500001,1.0,-3.0,0.17500001,1.0,-1.0,0.9999996,1.0,1.0,0.9999996,1.0,0.0,0.17500001,1.0,1.0,0.27500004,1.0,-1.0,0.27500004,1.0,0.0,0.575,1.0]],
   [10,11,[5.0,0.0,1.0,-5.0,0.15,1.0,-5.0,-0.14999999,1.0,-5.0,0.99999964,1.0,5.0,0.99999964,1.0,-3.0,0.17500001,1.0,3.0,0.15,1.0,2.0,0.92499965,1.0,-2.0,0.92499965,1.0,0.0,0.15,1.0,0.0,0.7499998,1.0,-1.0,0.25000003,1.0,1.0,0.25000003,1.0,3.0,0.79999983,1.0,-3.0,0.79999983,1.0]],
   [12,13,[-13.0,0.0,1.0,-15.0,0.0,1.0,5.0,0.0,1.0,-5.0,0.074999996,1.0,5.0,0.9999996,1.0,-5.0,1.1499995,1.0,-5.0,0.8499998,1.0,0.0,0.075,1.0,3.0,0.17500001,1.0,-3.0,0.17500001,1.0,-1.0,0.9999996,1.0,1.0,0.9999996,1.0,0.0,0.17500001,1.0,1.0,0.27500004,1.0,-1.0,0.27500004,1.0,0.0,0.575,1.0,-16.0,0.0,1.0,-14.0,0.0,1.0]],
   [13,14,[-18.0,0.0,1.0,-20.0,0.0,1.0,5.0,0.0,1.0,-5.0,0.15,1.0,-5.0,-0.14999999,1.0,-5.0,0.99999964,1.0,5.0,0.99999964,1.0,-3.0,0.17500001,1.0,3.0,0.15,1.0,2.0,0.92499965,1.0,-2.0,0.92499965,1.0,0.0,0.15,1.0,0.0,0.7499998,1.0,-1.0,0.25000003,1.0,1.0,0.25000003,1.0,-19.0,0.0,1.0,-17.0,0.0,1.0,-23.0,0.0,1.0,-3.0,0.8249998,1.0,3.0,0.8249998,1.0]],
   [8,15,[-29.0,0.0,1.0,-31.0,0.0,1.0,-7.0,0.35000005,1.0,26.0,0.049999997,1.0,-6.0,0.7499998,1.0,-6.0,1.8249989,1.0,1.0,1.8249989,1.0,1.0,0.8499998,1.0,7.0,0.30000007,1.0,10.0,0.5000001,1.0,14.0,0.7249999,1.0,15.0,0.99999964,1.0,12.0,1.0999995,1.0,2.0,1.8249989,1.0,15.0,1.8249989,1.0,2.0,0.9499997,1.0,-6.0,-3.7252903E-9,1.0,4.0,-3.7252903E-9,1.0,0.0,-0.52500004,1.0,-5.0,-0.35000002,1.0,5.0,-0.35000002,1.0,-31.0,0.0,1.0,-29.0,0.0,1.0,12.0,0.79999983,1.0,9.0,0.6,1.0,5.0,0.6,1.0,8.0,0.89999974,1.0,4.0,0.79999983,1.0,0.0,0.35000008,1.0,8.0,0.67499995,1.0,10.0,0.77499986,1.0,8.0,0.8249998,1.0,6.0,0.7499999,1.0]],
   [5,16,[-8.0,0.35000005,1.0,26.0,0.049999997,1.0,-6.0,0.7499998,1.0,-6.0,1.8249989,1.0,1.0,1.8249989,1.0,1.0,0.8499998,1.0,7.0,0.30000007,1.0,11.0,0.5000001,1.0,16.0,0.7249999,1.0,18.0,0.99999964,1.0,12.0,1.0999995,1.0,5.0,1.8249989,1.0,18.0,1.8249989,1.0,5.0,0.9499997,1.0,-6.0,-3.7252903E-9,1.0,4.0,-3.7252903E-9,1.0,0.0,-0.52500004,1.0,-5.0,-0.35000002,1.0,5.0,-0.35000002,1.0,12.0,0.6999999,1.0,14.0,0.87499976,1.0,10.0,0.9249997,1.0,4.0,0.65,1.0,-2.0,0.5500001,1.0,-5.0,0.3750001,1.0,-3.0,0.10000003,1.0,2.0,0.22500005,1.0,5.0,0.5000001,1.0,-1.0,0.25000006,1.0,-3.0,0.30000007,1.0,-2.0,0.4000001,1.0,1.0,0.4250001,1.0,12.0,0.8499998,1.0,11.0,0.7499999,1.0,10.0,0.8249998,1.0,8.0,0.6999999,1.0]],
   [14,17,[3.0,0.15,1.0,-3.0,0.25000003,1.0,7.0,0.8749997,1.0,-6.0,0.9499997,1.0,4.0,1.3249993,1.0,3.0,3.7252903E-9,1.0,-3.0,3.7252903E-9,1.0,0.0,1.5249991,1.0,6.0,0.47500005,1.0,-4.0,0.8499998,1.0,4.0,1.0999995,1.0,5.0,0.7999998,1.0,5.0,0.47500005,1.0,-2.0,0.25000003,1.0,2.0,0.17500001,1.0]],
   [11,18,[20.0,0.0,1.0,22.0,0.0,1.0,3.0,0.15,1.0,-3.0,0.25000003,1.0,7.0,0.8749997,1.0,-6.0,0.9499997,1.0,4.0,1.3249993,1.0,3.0,3.7252903E-9,1.0,-3.0,3.7252903E-9,1.0,0.0,1.5249991,1.0,6.0,0.47500005,1.0,-4.0,0.5250001,1.0,1.0,0.77499986,1.0,0.0,1.4499992,1.0,4.0,0.7749998,1.0,-4.0,0.40000004,1.0,1.0,0.37500003,1.0,20.0,0.0,1.0,22.0,0.0,1.0]],
   [17,14,[]],
  ],
  verts:[[0,1],[2],[3],[121,89],[94,120],[118],[117],[90,119],[91],[92],[93],[101],[102],[104],[103],[106],[105],[100],[99],[97],[98],[96,129],[128,95],[126],[127],[125],[124],[122],[123],[133],[131],[132],[130],[107],[109],[108],[110],[134],[112],[113],[114],[116],[115],[176],[177],[178],[173,157],[158,175],[159,174],[155],[156],[201],[202],[137],[136],[135],[160],[161],[166],[164],[165],[162],[163],[167],[168],[170,198],[197,171],[169],[194],[195],[192],[189],[190],[191],[193],[188],[186],[187],[183],[184],[181],[180],[182],[179],[185],[172],[199],[200],[203],[141],[138],[140],[139],[204],[205],[142],[143],[144],[214],[240],[207,213],[239,146],[145],[206],[209],[149],[208],[147],[148],[288],[287],[270],[271],[272,284],[285,273],[286,274],[276],[277],[275],[279],[278],[292],[291],[289],[290],[294],[295],[296],[293],[283],[282],[281],[280],[241,215],[223,247],[246],[244],[245],[243],[242],[216],[217],[218],[219],[220],[221],[222],[224],[248],[225],[226],[227],[228],[229],[254],[255],[253],[249],[250],[251],[252],[259],[256],[257],[258],[230],[231],[263],[262],[260],[261],[267],[266],[265],[264],[232],[234],[233],[235],[4],[5],[6],[7],[8],[0],[9],[10],[11],[12],[13],[14],[15],[16],[17],[18],[19],[20],[21],[23],[22],[24],[25],[32],[37],[36],[35],[34],[33],[28],[26],[27],[31],[30],[29],[43],[42],[38],[41],[39],[40],[48],[44],[47],[46],[45],[49],[55],[54],[53],[52],[51],[50],[56],[301],[302],[307],[306],[308],[312],[313],[319,303],[305,321],[304,320],[323],[322],[326],[327],[325],[324],[331],[330],[328],[329],[314],[311],[309],[310],[57],[63],[62],[61],[60],[59],[58],[64],[65],[67],[66],[68],[69],[66],[66],[70],[71],[72],[73],[385],[388],[386],[387],[384],[370],[372],[373],[374],[375],[383],[381],[382],[379],[378],[377],[376],[351],[348],[347],[346],[345],[354],[357],[355],[356],[353],[339],[341],[342],[343],[344],[352],[350],[390],[391],[389],[392],[397],[393],[394],[395],[396],[401],[400],[399],[398],[360],[363],[361],[364],[365],[362],[367],[366],[369],[368],[405],[403],[402],[404],[75],[74],[76],[77],[336],[335],[411],[406],[408],[410],[409],[407],[412],[80],[79],[78],[81],[82],[83],[414],[85],[84],[236],[88],[87],[86],[237,211],[210],[238],[212],[269],[269,154,268],[269,154,268],[154,268],[152],[153],[415],[416],[420],[419],[418],[417],[298],[297],[429],[424],[426],[430],[427],[425],[431],[423],[428],[435],[434],[437],[433],[432],[436]],
  polys:[
   [254,144,63,[384,383,382,381,379,380,389,388,387,386,385]],
   [174,84,43,[390,391,393,394,395,392]],
   [55,83,0,[111,113,109,110,114,115,112]],
   [75,123,0,[116,119,124,122,121,123,120,117,118]],
   [255,255,255,[131,129,130,132]],
   [255,255,255,[125,126,128,127]],
   [0,0,0,[288,287,286,285,284,283,282,281,280,279,278,277,276,292,291,290,289]],
   [65,65,65,[314,312,310,311,313,315,316,317,318]],
   [255,255,255,[334,335,336,333]],
   [255,255,255,[322,319,320,321]],
   [43,20,0,[49,47,48,43,44,45,46,50]],
   [103,52,0,[57,56,64,65,68,71,76,78,83,84,79,77,74,69,66,67,58,59]],
   [255,255,255,[80,81,82]],
   [255,255,255,[70,72,75,73]],
   [255,255,255,[85,86,87]],
   [255,255,255,[61,63,60,62]],
   [43,20,0,[51,49,50,5,6,55,54,53,52]],
   [0,0,0,[298,297,296,295,294,293,309,308,307,306,305,304,303,302,301,300,299]],
   [65,65,65,[323,324,326,327,328,325]],
   [255,255,255,[330,329,332,331]],
   [43,20,0,[5,4,3,10,9,8,7,6]],
   [103,52,0,[27,25,23,21,19,17,11,13,16,15,14,12,18,20,22,24,26,28]],
   [255,255,255,[32,31,29,30]],
   [255,255,255,[34,33,36,35]],
   [255,255,255,[37,38,39]],
   [255,255,255,[41,40,42]],
   [103,52,0,[88,93,89,91,92,90]],
   [255,255,255,[94,96,97,95]],
   [254,144,63,[98,100,103,51,52,53,54,102,101,99,133]],
   [174,84,43,[372,54,102,101,99,367,370,371]],
   [174,84,43,[98,100,103,51,366,364,363,365]],
   [254,195,127,[104,106,107,108,105]],
   [55,83,0,[144,143,142,141,140,98,133,99,139,138,148,137,136,135,134,146,145,147]],
   [75,123,0,[151,150,149,153,154,156,160,159,158,157,155,152]],
   [75,123,0,[165,166,164,161,162,163]],
   [255,255,255,[167,168,170,169]],
   [255,255,255,[174,171,172,173]],
   [200,200,100,[258,259,260,261,262,263,257]],
   [255,255,255,[177,175,176,178]],
   [254,144,63,[187,186,185,184,183,182,181,180,145,146,134,135,136,179,2,192,191,190,189,188]],
   [174,84,43,[357,358,181,180,145,146,359,360,361,362]],
   [254,233,191,[202,203,204,205,206,207]],
   [254,233,191,[209,208,213,212,211,210]],
   [0,0,0,[214,215,217,219,218,216]],
   [30,30,30,[222,221,220,225,224,223]],
   [30,30,30,[229,228,227,226,231,230]],
   [200,200,100,[232,193,194,195,196,197,199,198,200,201,192,191,190,189,188,187,186]],
   [254,144,63,[343,344,356,345,346,347,348,349,342,341]],
   [55,83,0,[234,233,240,243,244,242,241]],
   [75,123,0,[236,235,256,247,245,246,248,255,237]],
   [255,255,255,[254,238,253,239]],
   [255,255,255,[251,249,252,250]],
   [254,254,160,[275,274,272,267,265,264,266,268,269,273]],
   [30,30,30,[338,202,207,206,205,204,203,353,350,351,352,337]],
   [30,30,30,[209,210,211,212,339,340]],
   [30,30,30,[209,355,354,212,213,208]],
   [174,84,43,[343,344,356,345,346,347,348,349,376,373,374,378,377,375]],
  ],
  };
  
  
  //...
}
function dataLeg0() {
  
  return {
  parts:[[89.0,129.0],[94.0,73.0],[57.0,84.0],[88.0,90.0]],
  pairs:[[1,2],[2,3],[3,0]],
  constraints:[],
  fcs:[
    ['iidle',
      [250,89.0,129.0,92.0,20.0,89.0,58.0,88.0,90.0],
      [250,88.0,127.0,92.0,22.0,84.0,60.0,88.0,90.0]
    ],
    ['run',
      [250,88.0,130.0,92.0,20.0,89.0,58.0,88.0,90.0],
      [250,168.0,80.0,92.0,20.0,107.0,56.0,129.0,73.0],
      [50,130.0,73.0,92.0,20.0,66.0,45.0,96.0,53.0],
      [50,36.0,117.0,92.0,20.0,71.0,54.0,61.0,86.0]
    ],
    ['idle',
      [250,89.0,129.0,90.0,72.0,56.0,89.0,88.0,90.0],
      [250,89.0,129.0,94.0,73.0,57.0,84.0,88.0,90.0]
    ]
  ],
  weights:[
   [1,2,[-10.651071,-0.12732273,1.0,-8.2637615,0.74604267,1.0,7.6866097,0.77907765,1.0,8.4474,-0.14039919,1.0,-7.7390785,0.90502405,2.0,-9.162827,1.0441566,1.0,8.383583,0.93115586,2.0,7.7386928,1.094053,1.0]],
   [2,3,[-8.0,0.22866476,1.0,-7.7462187,0.74243903,1.0,7.2464623,0.75707316,1.0,8.0,0.22866482,1.0,-8.0,0.05716618,2.0,-8.870669,-0.13365854,1.0,7.0902886,-0.08682926,1.0,7.0,0.05716622,2.0,-6.8716455,0.8682927,2.0,-8.0,1.0004084,1.0,7.152758,0.85073173,2.0,6.9965844,1.0068293,1.0]],
   [3,0,[-9.740388,0.26281208,1.0,-8.945778,1.0571616,1.0,22.044039,1.0367937,1.0,17.25074,0.24507228,1.0,8.0,0.050000034,2.0,7.8948402,-0.10775294,1.0,-7.9256,0.07700401,2.0,-9.048308,-0.09825832,1.0]],
  ],
  verts:[[3],[0],[1],[2],[13,4],[6,14],[7,15],[12,5],[8],[11],[10],[9],[16,27],[17,26],[20],[21],[22],[23],[24,19],[25,18]],
  polys:[
   [200,200,100,[0,3,2]],
   [200,200,100,[0,2,1]],
   [200,200,100,[3,5,4]],
   [200,200,100,[3,4,2]],
   [200,200,100,[5,6,7]],
   [200,200,100,[5,7,4]],
   [200,200,100,[6,9,8]],
   [200,200,100,[6,8,7]],
   [200,200,100,[9,10,11]],
   [200,200,100,[9,11,8]],
   [200,200,100,[10,19,12]],
   [200,200,100,[10,12,11]],
   [200,200,100,[19,18,13]],
   [200,200,100,[19,13,12]],
   [200,200,100,[18,17,14]],
   [200,200,100,[18,14,13]],
   [200,200,100,[17,16,15]],
   [200,200,100,[17,15,14]],
  ],
  };
  
  
  
  //...
}
function dataGen0() {
  
  return {
  parts:[[88.0,83.0],[73.0,76.0],[79.0,90.0],[102.0,119.0],[116.0,121.0],[94.0,119.0],[80.0,110.0],[93.0,100.0],[108.0,115.0],[65.0,58.0],[60.0,64.0],[57.0,71.0],[43.0,62.0],[34.0,52.0],[50.0,56.0],[23.0,52.0],[42.0,77.0],[28.0,81.0],[17.0,82.0]],
  pairs:[[1,2],[1,0],[2,0],[2,6],[6,5],[5,3],[0,7],[7,8],[8,4],[1,9],[1,10],[1,11],[11,10],[9,10],[10,12],[9,14],[14,13],[13,15],[11,16],[16,17],[17,18]],
  constraints:[],
  fcs:[
    ['idle',
      [100,102.0,83.0,92.0,68.0,88.0,82.0,88.0,127.0,106.0,128.0,88.0,118.0,79.0,99.0,100.0,99.0,106.0,119.0,102.0,53.0,94.0,52.0,87.0,53.0,94.0,35.0,116.0,78.0,114.0,62.0,116.0,88.0,77.0,65.0,63.0,69.0,52.0,71.0],
      [100,102.0,85.0,92.0,70.0,87.0,84.0,88.0,128.0,106.0,128.0,88.0,119.0,76.0,100.0,102.0,101.0,106.0,119.0,102.0,55.0,94.0,54.0,87.0,55.0,95.0,37.0,116.0,76.0,116.0,62.0,116.0,86.0,77.0,67.0,63.0,68.0,53.0,67.0]
    ],
    ['run',
      [100,102.0,83.0,92.0,68.0,88.0,82.0,96.0,102.0,98.0,128.0,90.0,96.0,70.0,87.0,98.0,99.0,98.0,119.0,102.0,53.0,94.0,52.0,87.0,53.0,94.0,35.0,106.0,75.0,114.0,62.0,96.0,80.0,80.0,67.0,70.0,79.0,61.0,86.0],
      [100,102.0,85.0,92.0,70.0,87.0,84.0,65.0,128.0,121.0,128.0,67.0,119.0,76.0,100.0,109.0,101.0,118.0,119.0,102.0,55.0,94.0,54.0,87.0,55.0,95.0,37.0,89.0,85.0,95.0,69.0,83.0,93.0,96.0,69.0,103.0,82.0,107.0,93.0],
      [100,102.0,83.0,92.0,68.0,88.0,82.0,93.0,130.0,108.0,109.0,93.0,121.0,86.0,101.0,97.0,93.0,108.0,100.0,102.0,53.0,94.0,52.0,87.0,53.0,94.0,35.0,117.0,83.0,111.0,67.0,117.0,89.0,89.0,70.0,75.0,64.0,65.0,58.0],
      [100,102.0,85.0,92.0,70.0,87.0,84.0,114.0,127.0,82.0,126.0,112.0,118.0,98.0,100.0,93.0,99.0,85.0,117.0,102.0,55.0,94.0,54.0,87.0,55.0,95.0,37.0,125.0,76.0,116.0,62.0,129.0,86.0,77.0,67.0,64.0,75.0,56.0,78.0]
    ],
    ['attack',
      [50,111.0,94.0,124.0,81.0,105.0,81.0,88.0,127.0,106.0,128.0,88.0,118.0,92.0,97.0,96.0,103.0,106.0,119.0,140.0,91.0,141.0,80.0,138.0,71.0,147.0,96.0,143.0,121.0,138.0,106.0,147.0,131.0,151.0,82.0,157.0,96.0,164.0,105.0],
      [50,101.0,88.0,92.0,74.0,87.0,88.0,88.0,127.0,106.0,128.0,88.0,118.0,74.0,102.0,98.0,103.0,106.0,119.0,100.0,59.0,93.0,57.0,87.0,57.0,93.0,40.0,105.0,25.0,104.0,43.0,104.0,12.0,84.0,40.0,82.0,24.0,84.0,13.0],
      [50,88.0,84.0,72.0,76.0,78.0,89.0,88.0,127.0,106.0,128.0,88.0,118.0,74.0,109.0,92.0,100.0,106.0,119.0,66.0,57.0,60.0,64.0,57.0,72.0,43.0,65.0,34.0,49.0,49.0,55.0,24.0,51.0,44.0,75.0,29.0,79.0,18.0,81.0],
      [200,88.0,83.0,73.0,76.0,79.0,90.0,102.0,119.0,116.0,121.0,94.0,119.0,80.0,110.0,93.0,100.0,108.0,115.0,65.0,58.0,60.0,64.0,57.0,71.0,43.0,62.0,34.0,52.0,50.0,56.0,23.0,52.0,42.0,77.0,28.0,81.0,17.0,82.0],
      [50,101.0,88.0,92.0,74.0,87.0,88.0,88.0,127.0,106.0,128.0,88.0,118.0,74.0,102.0,98.0,103.0,106.0,119.0,100.0,59.0,93.0,57.0,87.0,57.0,93.0,40.0,105.0,25.0,104.0,43.0,104.0,12.0,84.0,40.0,82.0,24.0,84.0,13.0]
    ]
  ],
  weights:[
   [1,2,[5.219702,0.24528298,1.0,5.4944234,0.67924523,1.0]],
   [1,0,[-6.9337516,0.5481019,1.0,-5.269654,0.90275586,1.0]],
   [2,0,[0.0,0.49999955,1.0,-3.4198582,0.41116747,1.0,3.5623527,0.4478386,1.0]],
   [2,6,[-6.1345253,0.7135135,1.0,-5.4586873,0.20270276,1.0,5.718628,0.21621625,1.0,5.458691,0.7972974,1.0]],
   [6,5,[-5.608315,0.7650729,1.0,5.1523576,0.74428284,1.0,4.696397,0.25363836,1.0,-6.0642757,0.27442822,1.0]],
   [5,3,[-7.0,1.7777777,1.0,12.0,1.777778,1.0,11.0,0.66666675,1.0,-6.0,0.33333328,1.0,5.0,0.4444445,1.0]],
   [0,7,[-4.61523,0.7918089,1.0,4.323126,0.8532422,1.0,4.3815465,0.324232,1.0,-4.5568094,0.26279867,1.0]],
   [7,8,[-4.597565,0.76605505,1.0,4.597565,0.7339449,1.0,4.3102183,0.1880733,1.0,-5.172263,0.17431188,1.0]],
   [8,4,[-5.0,0.33333328,1.0,5.0,0.22222227,1.0,8.0,1.6666667,1.0,-6.0,1.6666666,1.0]],
   [1,9,[9.152554,0.33846128,1.0,6.6564026,0.6461538,1.0]],
   [1,10,[]],
   [1,11,[-5.059645,0.23999989,1.0,-3.7947333,0.4799999,1.0]],
   [11,10,[-4.666905,0.37999997,1.0,-4.2426405,-0.20000121,1.0]],
   [9,10,[4.5892854,0.3901495,1.0,4.3412156,-0.3076924,1.0]],
   [10,12,[10.0,0.47058824,1.0,10.0,1.4705882,1.0,-9.0,1.4117647,1.0,-9.0,0.47058824,1.0,-5.0,0.4117647,1.0,6.0,0.4117647,1.0]],
   [9,14,[3.2000015,0.45118585,1.0,3.8000014,0.77333325,1.0,-5.7999983,0.29333317,1.0,-4.5999985,0.8533339,1.0]],
   [14,13,[-4.789368,0.22123891,1.0,-5.1884823,0.8230088,1.0,4.2572174,0.24778762,1.0,3.7915835,0.78318584,1.0]],
   [13,15,[-7.0,0.29999995,1.0,-7.0,1.3,1.0,6.0,1.3000001,1.0,6.0,0.30000007,1.0,-5.0,0.09999996,1.0,4.0,0.10000004,1.0]],
   [11,16,[-3.7130687,0.38524604,1.0,-4.9497476,0.77272713,1.0,4.9497476,0.68181807,1.0,4.9497476,0.22727269,1.0]],
   [16,17,[-4.532899,0.16037744,1.0,4.9449806,0.18867877,1.0,5.219702,0.7547168,1.0,-4.2581778,0.72641516,1.0]],
   [17,18,[-6.1983414,0.29865777,1.0,6.4300623,0.18310167,1.0,6.26099,1.0799996,1.0,-6.082105,1.0080001,1.0,-4.919349,0.051812753,1.0,4.29325,0.072537854,1.0]],
   [0,2,[]],
  ],
  verts:[[42],[41],[43],[40],[36],[38],[48],[49],[46],[47],[52],[50],[53],[51],[57],[54],[56],[55],[33],[32],[2],[3],[23],[20],[27],[24],[28],[31],[30],[29],[25],[26],[21],[22],[6],[8],[7],[14],[11],[18],[15],[16],[17],[12],[13],[10],[9],[19],[45],[44],[1],[0],[34],[35],[60],[61],[64],[67],[68],[71],[70],[69],[66],[65],[62],[63],[58],[59],[72],[73],[39],[37]],
  polys:[
   [200,200,100,[42,41,40]],
   [200,200,100,[47,42,40]],
   [200,200,100,[47,40,39]],
   [200,200,100,[43,47,39]],
   [200,200,100,[38,43,39]],
   [200,200,100,[44,43,38]],
   [200,200,100,[37,44,38]],
   [200,200,100,[45,44,37]],
   [200,200,100,[36,45,37]],
   [200,200,100,[46,45,36]],
   [200,200,100,[35,46,36]],
   [200,200,100,[29,28,27]],
   [200,200,100,[26,29,27]],
   [200,200,100,[30,29,26]],
   [200,200,100,[25,30,26]],
   [200,200,100,[31,30,25]],
   [200,200,100,[24,31,25]],
   [200,200,100,[32,31,24]],
   [200,200,100,[23,32,24]],
   [200,200,100,[33,32,23]],
   [200,200,100,[22,33,23]],
   [200,200,100,[50,34,21]],
   [200,200,100,[51,50,21]],
   [200,200,100,[20,51,21]],
   [200,200,100,[21,34,33]],
   [200,200,100,[21,33,22]],
   [200,200,100,[50,35,34]],
   [200,200,100,[50,46,35]],
   [200,200,100,[52,51,20]],
   [200,200,100,[19,52,20]],
   [200,200,100,[53,52,19]],
   [200,200,100,[18,53,19]],
   [200,200,100,[4,54,8]],
   [200,200,100,[54,53,18]],
   [200,200,100,[8,54,18]],
   [200,200,100,[5,4,8]],
   [200,200,100,[49,4,5]],
   [200,200,100,[48,49,5]],
   [200,200,100,[0,2,49]],
   [200,200,100,[0,49,48]],
   [200,200,100,[1,0,48]],
   [200,200,100,[1,48,3]],
   [200,200,100,[64,55,54]],
   [200,200,100,[65,64,54]],
   [200,200,100,[64,63,56]],
   [200,200,100,[55,64,56]],
   [200,200,100,[63,62,57]],
   [200,200,100,[63,57,56]],
   [200,200,100,[62,69,68]],
   [200,200,100,[62,68,57]],
   [200,200,100,[69,61,58]],
   [200,200,100,[69,58,68]],
   [200,200,100,[61,60,59]],
   [200,200,100,[61,59,58]],
   [200,200,100,[8,9,7]],
   [200,200,100,[6,8,7]],
   [200,200,100,[9,10,11]],
   [200,200,100,[7,9,11]],
   [200,200,100,[10,12,11]],
   [200,200,100,[11,12,13]],
   [200,200,100,[12,67,13]],
   [200,200,100,[13,67,66]],
   [200,200,100,[67,14,15]],
   [200,200,100,[66,67,15]],
   [200,200,100,[14,16,15]],
   [200,200,100,[15,16,17]],
   [200,200,100,[65,54,71]],
   [200,200,100,[71,54,4]],
   [200,200,100,[5,8,70]],
   [200,200,100,[70,8,6]],
  ],
  };
  
  
  
  //...
}
function jnr() {
  var fos={},//---file objects (unparsed json)
      mapfn='maps/gen0test.json',
      loadCount=0,loadFiles=['objs/gen0/o.json'],
      url=Conet.parseUrl();
  
  function onload() {
    //---
    var img,mleft,mright,mattack,mdown,linp=0,t=0,inpt=[],stayinp=0,bgimg;
    
    var imgGround=new Image();imgGround.src='../paint/ground.png';
    var imgShadow=new Image();imgShadow.src='../paint/shadow.png';
    
    var flc=[];
    var w=21,h=21,w2=Math.floor(w/2),h2=Math.floor(h/2);
    for (var k=0;k<5;k++) {
      var cv0=document.createElement('canvas');
      cv0.width=w;cv0.height=h;
      var ct=cv0.getContext('2d');
      var id=ct.createImageData(w,h);
      //for (var y=0;y<h;y++) for (var x=0;x<w;x++) {
      //  var i=(y*w+x)*4;
      //  id.data[i]=255;
      //  id.data[i+1]=255;
      //  id.data[i+2]=0;
      //  id.data[i+3]=255*(1-Math.abs(y/h2-1))*(x<h2?x/h2:1)*(x>w-h2?1-(x-w+h2+1)/h2:1);
      //}
      for (var j=(w*h)/20;j>=0;j--) {
        var x=Math.floor(0.5+Math.random()*w/2),y=Math.floor(0.5+Math.random()*h/2);
        var i;
        if ((x*x+y*y)>(w*w/4)) continue;
        i=((w2-y)*w+(w2-x))*4;id.data[i]=255;id.data[i+1]=255;id.data[i+2]=255;id.data[i+3]=255;
        i=((w2-x)*w+(w2-y))*4;id.data[i]=255;id.data[i+1]=255;id.data[i+2]=255;id.data[i+3]=255;
        i=((w2-y)*w+(w2+x))*4;id.data[i]=255;id.data[i+1]=255;id.data[i+2]=255;id.data[i+3]=255;
        i=((w2-x)*w+(w2+y))*4;id.data[i]=255;id.data[i+1]=255;id.data[i+2]=255;id.data[i+3]=255;
        i=((w2+y)*w+(w2-x))*4;id.data[i]=255;id.data[i+1]=255;id.data[i+2]=255;id.data[i+3]=255;
        i=((w2+x)*w+(w2-y))*4;id.data[i]=255;id.data[i+1]=255;id.data[i+2]=255;id.data[i+3]=255;
        i=((w2+y)*w+(w2+x))*4;id.data[i]=255;id.data[i+1]=255;id.data[i+2]=255;id.data[i+3]=255;
        i=((w2+x)*w+(w2+y))*4;id.data[i]=255;id.data[i+1]=255;id.data[i+2]=255;id.data[i+3]=255;
      }
      var ct=cv0.getContext('2d');
      ct.putImageData(id,0,0);
      flc.push(cv0);
    }
    
    var bod2=new Bod2();
    bod2.init({w:1600,h:1600});
    
    //console.log(dataGen0());
    var map=JSON.parse(fos[mapfn]);
    
    var skins={};
    for (var i=0;i<map.os.length;i++) {
      var ps=map.os[i];
      if (ps.ofn) {
        var osh=fos[ps.ofn];
        if (osh===undefined) {
          console.error(ps.ofn+' not loaded.');
          continue;
        }
        try {
          ps.o=JSON.parse(osh);
        } catch (e) {
          console.log(ps.ofn);
          console.log(osh);
          console.log(e);
          continue;
        }
      }
      if (!ps.o) continue;
      var u=bod2.loadUnit(ps.o,ps.x,ps.y);
      u.shadowImg=imgShadow;u.dbg=1;
      u.shsc=ps.shsc;
      u.sc=ps.sc||1;
      u.hp=ps.hp;u.mhp=ps.hp;
      if (ps.skin) { u.skin=ps.skin;skins[ps.skin]=1; }
      bod2.setFc(u,'idle');
      //reak;
    }
    
    for (var k in skins) if (skins.hasOwnProperty(k)) 
    Conet.download({fn:k,f:function(v) {
      var d=JSON.parse(v);
      img=new Image();
      img.src=d.data;
      //onsole.log(d.tridata);
      
      
      var i1=[4,5,0,    1,3,2,    6,16,15,17,  14,13,
              27,28,25, 26,23,24, 22,29,21,18, 20,19, 30,31,32,33,34, 35,36,37,38, 39,40,41,42, 43,44,   54,45,47,46, 48,50,49,51, 52,53];
      var i0=[3,4,5,    6,8,7,    10,11,12,9,  13,14,
              3,4,5,    6,8,7,    10,11,12,9,  13,14, 19,17,18,15,16, 29,28,26,27, 25,23,24,22, 21,20,   29,28,26,27, 25,23,24,22, 21,20];
      
      
      //onsole.log('santa.img oload bod2.units.length='+bod2.units.length);
      for (var ui=bod2.units.length-1;ui>=0;ui--) {
        //if (ui==0) continue;
        var u=bod2.units[ui];
        if (u.skin!=this.fn) continue;
        u.dbg=0;
      
        if (this.fn=='santa.json.txt') {
          for (var i=0;i<i0.length;i++) {
            var v=d.tridata.verts[i0[i]],w=u.verts[i1[i]];
            w.u=v[0];w.v=v[1];
          }
      
          var v;
          v=u.verts[7];v.u=0.36;v.v=0.46;
          v=u.verts[11];v.u=0.05;v.v=0.1;
          v=u.verts[10];v.u=-0.05;v.v=0.6;
      
          v=u.verts[12];v.u=0.6;v.v=0.1;
          v=u.verts[8];v.u=0.7;v.v=0.6;
          v=u.verts[9];v.u=0.3;v.v=0.8;
        } else {
          for (var i=0;i<d.tridata.verts.length;i++) {
            var v=d.tridata.verts[i],w=u.verts[i];
            w.u=v[0];w.v=v[1];
          }
        }
      
        //onsole.log('santa.img onload u.polys.length='+u.polys.length);
        if (!u.dbg) for (var i=u.polys.length-1;i>=0;i--) u.polys[i].img=img;
      }
      
    }
    });
    
    if (1)
    Conet.download({fn:'/blog/img/night0.json.txt',f:function(v) {
      v=JSON.parse(v);
      var img=new Image();
      img.src=v.data;
      img.onload=function() {
        //onsole.log(img);
        bgimg=img;
        //...
      }
      //...
    }
    });
    
    for (var i=0;i<map.os.length;i++) {
      var st=map.os[i];
      if (st.o||st.jpad) continue;
      st.img=imgGround;
      bod2.stones.push(st);
    }
    
    for (var i=0;i<map.os.length;i++) {
      var ps=map.os[i];
      if (!ps.jpad) continue;
      if (ps.shadowImg==1) ps.shadowImg=imgShadow;
      bod2.jpads.push(ps);
    }
    
    ////{x:20,y:450,w:80,h:50,dx:25,dy:-50}
    ////bod2.jpads.push({x:0,y:1450,w:100,h:120,dx:25,dy:-50,shadowImg:imgShadow});
    //bod2.jpads.push({x:0,y:1450,w:100,h:120,dx:0,dy:-60,shadowImg:imgShadow});
    //bod2.jpads.push({x:0,y:0,w:120,h:120,dx:20,dy:0});
    //bod2.jpads.push({x:200,y:700-120,w:100,h:120,dx:60,dy:-70,shadowImg:imgShadow});
    
    var flakes=[],fc=50;
    for (var i=0;i<fc;i++) {
      var f=i/(fc-1);f*=f*f*f*f*f*f;
      flakes.push({w:21+79*f,ox:Math.random(),oy:Math.random(),img:flc[i%flc.length]});
    }
    
    function ai(u,ui) {
      var uf=bod2.units[0];
      
      var ret=0;
      var dx=uf.mx-u.mx,adx=Math.abs(dx);
      if (uf.mx<u.mx) {
        if (u.mirror||(adx>100)) ret=1;
      } else {
        if ((!u.mirror)||(adx>100)) ret=2;
      }
      
      if (ret==0) {
        if ((linp==3))//||(Math.random()<0.001)) if random duck, then duck longer..
          ret=4;
        else {
          if ((u.aiat||0)<=0) { ret=3;u.aiat=100+Math.random()*500; }
          u.aiat--;
        }
      }
      
      //
      return ret;
    }
    
    
    bod2.extCalc=function(dt) {
      
      t+=dt;
      
      for (var ui=bod2.units.length-1;ui>=0;ui--) {
        var u=bod2.units[ui],mx=u.mx,my=u.my,keepRunning=false;//ui>0;
        if (!u.currentFc) {
          //---
          if ((u.floatt||0)>0) {
            u.floatt-=dt;
            if (u.floatt>0) continue;
          }
          var d=(mx-u.omx)*(mx-u.omx)+(my-u.omy)*(my-u.omy);
          if (d<0.5) bod2.setFc(u,u.fch['up']?'up':(keepRunning?'run':'idle'));
          u.omx=mx;u.omy=my;
          continue;//return;
        }
        if (u.currentFc.name=='up') {
          if (!u.currentFc.first) bod2.setFc(u,(keepRunning?'run':'idle'));
        }
      
      
      if (!u.currentFc) continue;
      var fcn=u.currentFc.name;
      var inp;
      if (ui==0) {
      //console.log('jnr.extCalc mleft.on='+mleft.on);
      inp=((mleft.on&&mright.on)?0:(mleft.on?1:(mright.on?2:(mattack.on?3:(mdown.on?4:0)))));
      //onsole.log('jnr.extCalc inp='+inp+' '+u.linp);
      //if (inp!=linp) { linp=inp;
      //  if (inp==1) { var s=u.mirror?'idle':'run';if ((s!=fcn)||u.mirror)  { u.mirror=false;bod2.setFc(u,s); }} else
      //  if (inp==2) { var s=u.mirror?'run':'idle';if ((s!=fcn)||!u.mirror) { u.mirror=true;bod2.setFc(u,s); }} }
      
      //onsole.log('jnr.extCalc inp='+inp+' linp='+linp+' stayinp='+stayinp);
      
      //t+=dt;
      if (inp!=linp) {
        if (inp==0) {
          if (!stayinp) {
            var lt=inpt[linp];
            if (lt) {
              if (t-lt<300) {
                stayinp=linp;
                //onsole.log('extCalc 0 stayinp='+stayinp);
              }
            }
          }
          if (!stayinp) inpt[linp]=t;
        } else {
          if (stayinp) {
            stayinp=0;
            //onsole.log('extCalc 1 stayinp='+stayinp);
          } //else inpt[inp]=t;
        }
        linp=inp;
      }
      if (stayinp) inp=stayinp;
      
      } else {
        if ((!u.linp)||((u.tinp||0)<=0)) {
          inp=ai(u,ui);u.tinp=200;u.linp=inp;
        } else 
          inp=u.linp;
        u.tinp-=dt;
      }
      
      //onsole.log('jnr.extCalc inp='+inp+' '+linp);
      
      if (inp==3) { if (fcn!='attack') {
        bod2.setFc(u,'attack'); 
        //var a={x:-70,y:-60,w:60,h:30};
        //bod2.attacks.push({x:u.mx+(u.mirror?-a.x-a.w:a.x),y:u.my+a.y,w:a.w,h:a.h,t:250,u:u});
      }}
      else if (inp==4) { if (fcn!='cidle') bod2.setFc(u,'cidle'); }
      else if (inp==1) { if (u.mirror||(fcn!='run')) { u.mirror=false;bod2.setFc(u,'run'); }}
      else if (inp==2) { if (!u.mirror||(fcn!='run')) { u.mirror=true;bod2.setFc(u,'run'); }} 
      else { if (!keepRunning&&(fcn!='idle')) bod2.setFc(u,'idle'); }
      }
    }
    
    //if (1)
    function drawFlakes(ct,ox,oy,sc,background) {
      var cw=bod2.canvas.width,ch=bod2.canvas.height;
      for (var i=flakes.length-1;i>=0;i--) {
        var f=flakes[i],w=f.w*sc;
        if (background) {
          if (f.w>40) continue;
        } else {
          if (f.w<=40) continue;
        }
        ct.drawImage(f.img,
          (ox*f.w/40+Math.sin(t*0.005+f.w)*w+(cw+w)*(100+f.ox))%(cw+w)-w,
          (oy*f.w/40+t*0.002*w              +(ch+w)*(100+f.oy))%(ch+w)-w,
          w,w);
      }
      //...
    }
    
    if (0) {
    
    bod2.extDraw0=function(ct,ox,oy,sc) {
      drawFlakes(ct,ox,oy,sc,1);
    }
    bod2.extDraw1=function(ct,ox,oy,sc) {
      drawFlakes(ct,ox,oy,sc,0);
    }
    
    } else if (1) bod2.extDraw0=function(ct,ox,oy,sc) {
      //ct.save();
      //ct.globalCompositeOperation='overlay';
      if (!bgimg) return;
      ct.globalAlpha=0.3;var f=1/3;
      var w=window.innerWidth,h=window.innerHeight;
      ct.drawImage(bgimg,
        ox*f-400*sc*f+0.8*w*f*sc/2,
        oy*f-400*sc*f+0.8*h*f*sc/2,bgimg.width*sc*f,bgimg.height*sc*f);//,200,200);
      ct.globalAlpha=1;
      //ct.restore();
    }
    
    var vh='0.288 ';//FOLDORUPDATEVERSION
    
    Menu.init([
    mleft={s:'\u2190',ms:'<br><br><br>Bod2 '+bod2.version,px:0.02,py:0.02,pw:0.116,ph:0.116,ydown:true,fs:1.4,keys:[65,37]},
    mright={s:'\u2192',ms:'<br><br><br>'+vh,px:0.12,py:0.02,pw:0.116,ph:0.116,ydown:true,fs:1.4,keys:[68,39]},
    mattack={s:'\u270a',px:0.02,py:0.12,pw:0.116,ph:0.116,ydown:true,xright:true,fs:1.4,keys:[69,96,87]},//E,num-0,W
    mdown={s:'&#x1F6E1;',px:0.02,py:0.02,pw:0.116,ph:0.116,ydown:true,xright:true,fs:1.4,keys:[40,83]},
    ],{listen:1});
    Menu.draw();
    Sound.vol=0.5;
  }
  
  function loaded(v) {
    fos[this.fn]=v;//JSON.parse(v);
    //...
    loadCount++;
    if (loadCount==loadFiles.length) onload();
  }
  
  if (url.map) mapfn=url.map;
  loadFiles.push(mapfn);
  for (var k in url) if (url.hasOwnProperty(k)) 
    if (k.startsWith('file')) loadFiles.push(url[k]);
  for (var i=0;i<loadFiles.length;i++) 
    Conet.download({fn:loadFiles[i],f:loaded});
  
  //...
}
</script>
</head>
<body bgcolor="#555" onload="jnr();">
<canvas id="canvas" width="500" height="600"></canvas>
</body>
</html><script>
//fr o,20
//fr o,20,5
//fr o,20,5,78
//fr o,20,5,78,3
//fr o,20,5,110
//fr o,20,5,120
//fr p,4,97
